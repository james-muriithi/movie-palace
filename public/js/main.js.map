{"version":3,"sources":["main.js"],"names":["document","addEventListener","window","jQuery","$","on","this","toggleClass","hasClass","isFavorited","data","JSON","parse","localStorage","getItem","find","item","id","d","parent","prop","addFavorite","stroredFavourites","removeFavourite","setItem","stringify","filteredFavorites","filter","i","error","console","log","focus","trigger","itemHeight","height","css","each","attr","text","toLowerCase","closest","val","pathname","location","header","children","menu","removeClass","addClass","includes","parsedUrl","URL","query","searchParams","get","split","pop","footerAlign","docHeight","footerHeight","footerTop","position","top","navigator","share","url","protocol","hostname","title","then","catch","err"],"mappings":"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","file":"main.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\n    if (window.jQuery) {\n        \"use strict\"; // start of use strict\n\n        /*==============================\n        Menu\n        ==============================*/\n        // document.addEventListener('touchstart', onTouchStart, { passive: true });\n        $('.header__btn').on('click', function() {\n            $(this).toggleClass('header__btn--active');\n            $('.header__nav').toggleClass('header__nav--active');\n            $('.body').toggleClass('body--active');\n\n            if ($('.header__search-btn').hasClass('active')) {\n                $('.header__search-btn').toggleClass('active');\n                $('.header__search').toggleClass('header__search--active');\n            }\n        });\n\n        const isFavorited = (data) => {\n            let stroredFavourites = JSON.parse(localStorage.getItem('favourites'))\n            return stroredFavourites.find(item => item.id === data.id)\n        }\n\n        let d = $('svg#heart-svg').parent().parent().data('json');\n        if (isFavorited(d)) {\n            $('svg#heart-svg').parent().parent().find('input').prop('checked', true)\n        }\n\n        const addFavorite = (data) => {\n            let stroredFavourites = JSON.parse(localStorage.getItem('favourites'))\n            if (stroredFavourites) {\n                if (isFavorited(data)) {\n                    removeFavourite(data)\n                    return 'already a favourite';\n                } else {\n                    localStorage.setItem('favourites', JSON.stringify([...stroredFavourites, data]));\n                    return\n                }\n            } else {\n                localStorage.setItem('favourites', JSON.stringify([data]));\n                return\n            }\n        }\n\n        const removeFavourite = (data) => {\n            const storedFavorites = JSON.parse(localStorage.getItem(\"favourites\"));\n\n            const filteredFavorites = storedFavorites.filter(\n                (i) => i.id !== data.id\n            );\n\n            localStorage.setItem(\"favourites\", JSON.stringify(filteredFavorites));\n\n            // $('svg#heart-svg').parent().parent().find('input').prop('checked', false)\n\n        }\n\n\n        // favourite btn\n        $('svg#heart-svg').on('click', function() {\n            try {\n                const data = $(this).parent().parent().data('json')\n                addFavorite(data);\n\n            } catch (error) {\n                console.log(error);\n            }\n        })\n\n        /*==============================\n        Search\n        ==============================*/\n        $('.header__search-btn').on('click', function() {\n            $(this).toggleClass('active');\n            $('.header__search').toggleClass('header__search--active');\n            $('section.home #myTabContent .row').toggleClass('p-t-50')\n            $('input[name=\"query\"]').focus()\n\n            if ($('.header__btn').hasClass('header__btn--active')) {\n                $('.header__btn').toggleClass('header__btn--active');\n                $('.header__nav').toggleClass('header__nav--active');\n                $('.body').toggleClass('body--active');\n            }\n        });\n\n        /*==============================\n        Home\n        ==============================*/\n\n        $('.home__nav--next').on('click', function() {\n            $('.home__carousel, .home__bg').trigger('next.owl.carousel');\n        });\n        $('.home__nav--prev').on('click', function() {\n            $('.home__carousel, .home__bg').trigger('prev.owl.carousel');\n        });\n\n        $(window).on('resize', function() {\n            var itemHeight = $('.home__bg').height();\n            $('.home__bg .item').css(\"height\", itemHeight + \"px\");\n        });\n        $(window).trigger('resize');\n\n        /*==============================\n        Tabs\n        ==============================*/\n        $('.content__mobile-tabs-menu li').each(function() {\n            $(this).attr('data-value', $(this).text().toLowerCase());\n        });\n\n        $('.content__mobile-tabs-menu li').on('click', function() {\n            var text = $(this).text();\n            var item = $(this);\n            var id = item.closest('.content__mobile-tabs').attr('id');\n            $('#' + id).find('.content__mobile-tabs-btn input').val(text);\n        });\n\n\n        /*==============================\n        Filter\n        ==============================*/\n        $('.filter__item-menu li').each(function() {\n            $(this).attr('data-value', $(this).text().toLowerCase());\n        });\n\n        $('.filter__item-menu li').on('click', function() {\n            var text = $(this).text();\n            var item = $(this);\n            var id = item.closest('.filter__item').attr('id');\n            $('#' + id).find('.filter__item-btn input').val(text);\n        });\n\n\n        /*\n        /url pathnames\n        */\n        let pathname = window.location.pathname,\n            header = $('ul.header__nav')\n        if (pathname === '/') {\n            header.children().each(function(menu) { $(this).removeClass('active').find('*').removeClass('active') })\n            header.find('li:nth-child(1)').addClass('active')\n        } else if (pathname.includes('/search/')) {\n            header.children().each(function(menu) { $(this).removeClass('active').find('*').removeClass('active') })\n            $('.header__search-btn').trigger('click')\n\n            const parsedUrl = new URL(window.location)\n            let query = parsedUrl.searchParams.get('q') || parsedUrl.searchParams.get('query')\n\n            if (pathname.split('/').pop()) {\n                query = pathname.split('/').pop()\n            }\n\n            $('input[name=\"query\"]').val(query)\n\n            console.log(query);\n        } else if (pathname.includes('/movies/')) {\n            header.children().each(function(menu) { $(this).removeClass('active').find('*').removeClass('active') })\n            header.find('li:nth-child(2)').addClass('active')\n        } else if (pathname.includes('/tv-shows/')) {\n            header.children().each(function(menu) { $(this).removeClass('active').find('*').removeClass('active') })\n            header.find('li:nth-child(3)').addClass('active')\n        }\n\n        function footerAlign() {\n            var docHeight = $(window).height();\n            var footerHeight = $('.footer').height();\n            var footerTop = $('.footer').position().top + footerHeight + 70;\n\n            if (footerTop < docHeight) {\n                $('.footer').css('margin-top', 10 + (docHeight - footerTop) + 'px');\n            }\n        }\n\n        footerAlign()\n\n        window.addEventListener('resize', footerAlign)\n\n        // web share api\n        if (navigator.share) {\n            // console.log($('.share-btn,.grid-share-btn'));\n            $('.share-btn,.grid-share-btn').addClass('show')\n            $('.total_votes').addClass('hide')\n\n            $('.share-btn,.grid-share-btn').on('click', function() {\n                const host = `${window.location.protocol}//${window.location.hostname}`;\n                let url = host + $(this).data('url')\n                let title = $(this).data('title')\n\n                navigator.share({\n                        title,\n                        url\n                    }).then(() => {\n                        console.log('Thanks! üòÑ');\n                    })\n                    .catch(err => {\n                        console.log(`Couldn't share üôÅ`);\n                    });\n            })\n        } else {\n            $('.share-btn,.grid-share-btn').removeClass('show')\n            $('.total_votes').removeClass('hide')\n\n            console.log('share is not supported');\n        }\n\n\n        /*==============================\n        Morelines\n        ==============================*/\n        // $('.card__description--details').moreLines({\n        // \tlinecount: 6,\n        // \tbaseclass: 'b-description',\n        // \tbasejsclass: 'js-description',\n        // \tclassspecific: '_readmore',\n        // \tbuttontxtmore: \"\",\n        // \tbuttontxtless: \"\",\n        // \tanimationspeed: 400\n        // });\n    }\n})"]}