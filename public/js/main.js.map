{"version":3,"sources":["main.js"],"names":["window","load_video","id","season","episode","api","url","request","XMLHttpRequest","open","setRequestHeader","send","onreadystatechange","status","stream_link","response","document","getElementById","setAttribute","classList","add","addEventListener","jQuery","$","on","this","toggleClass","hasClass","isFavorited","data","stroredFavourites","localStorage","getItem","JSON","parse","find","item","length","d","parent","prop","addFavorite","removeFavourite","setItem","stringify","filteredFavorites","filter","i","error","console","log","focus","option","phrase","requestDelay","getValue","element","media_type","name","title","template","type","method","value","poster_path","overview","substr","list","maxNumberOfElements","match","enabled","onChooseEvent","submit","theme","easyAutocomplete","trigger","itemHeight","height","css","each","attr","text","toLowerCase","closest","val","pathname","location","header","children","menu","removeClass","addClass","includes","parsedUrl","URL","query","searchParams","get","split","pop","footerAlign","docHeight","footerHeight","footerTop","position","top","navigator","share","protocol","hostname","then","catch","err"],"mappings":"AAAAA,OAAOC,WAAa,EAACC,EAAIC,EAAS,GAAIC,EAAU,MAC5CC,IAAI,mCACJC,IAAM,8CACNC,QAAU,IAAIC,eACdD,QAAQE,KAAK,OAAQH,KACrBC,QAAQG,iBAAiB,eAAgB,qCACzCH,QAAQI,KAAK,OAAON,IAAI,OAAOH,EAAG,WAAWC,EAAO,YAAYC,GAChEG,QAAQK,mBAAqB,WACF,MAAnBL,QAAQM,QACRC,YAAYP,QAAQQ,SACpBC,SAASC,eAAe,gBAAgBC,aAAa,MAAOJ,cAG5DE,SAASC,eAAe,cAAcE,UAAUC,IAAI,aAKhEJ,SAASK,iBAAiB,mBAAoB,WAC1C,GAAIrB,OAAOsB,OAAQ,CAOfC,EAAE,gBAAgBC,GAAG,QAAS,WAC1BD,EAAEE,MAAMC,YAAY,uBACpBH,EAAE,gBAAgBG,YAAY,uBAC9BH,EAAE,SAASG,YAAY,gBAEnBH,EAAE,uBAAuBI,SAAS,YAClCJ,EAAE,uBAAuBG,YAAY,UACrCH,EAAE,mBAAmBG,YAAY,6BAIzC,MAAME,EAAeC,IACjB,IAAIC,EAAoBC,aAAaC,QAAQ,cAC7C,QAAIF,IACAA,EAAoBG,KAAKC,MAAMJ,IACNK,KAAKC,GAAQA,EAAKlC,KAAO2B,EAAK3B,KAK/D,GAAiC,GAA7BqB,EAAE,iBAAiBc,OAAa,CAChC,IAAIC,EAAIf,EAAE,iBAAiBgB,SAASA,SAASV,KAAK,QAC9CD,EAAYU,IACZf,EAAE,iBAAiBgB,SAASA,SAASJ,KAAK,SAASK,KAAK,WAAW,GAI3E,MAAMC,EAAeZ,IACjB,IAAIC,EAAoBC,aAAaC,QAAQ,cAC7C,OAAIF,GACAA,EAAoBG,KAAKC,MAAMJ,GAC3BF,EAAYC,IACZa,EAAgBb,GACT,4BAEPE,aAAaY,QAAQ,aAAcV,KAAKW,UAAU,IAAId,EAAmBD,WAI7EE,aAAaY,QAAQ,aAAcV,KAAKW,UAAU,CAACf,MAKrDa,EAAmBb,IACrB,MAEMgB,EAFkBZ,KAAKC,MAAMH,aAAaC,QAAQ,eAEdc,OACrCC,GAAMA,EAAE7C,KAAO2B,EAAK3B,IAGzB6B,aAAaY,QAAQ,aAAcV,KAAKW,UAAUC,KAQtDtB,EAAE,iBAAiBC,GAAG,QAAS,WAC3B,IACI,MAAMK,EAAON,EAAEE,MAAMc,SAASA,SAASV,KAAK,QAC5CY,EAAYZ,GAEd,MAAOmB,GACLC,QAAQC,IAAIF,MAOpBzB,EAAE,uBAAuBC,GAAG,QAAS,WACjCD,EAAEE,MAAMC,YAAY,UACpBH,EAAE,mBAAmBG,YAAY,0BACjCH,EAAE,mCAAmCG,YAAY,UACjDH,EAAE,uBAAuB4B,QAErB5B,EAAE,gBAAgBI,SAAS,yBAC3BJ,EAAE,gBAAgBG,YAAY,uBAC9BH,EAAE,gBAAgBG,YAAY,uBAC9BH,EAAE,SAASG,YAAY,mBAK/B,IAAI0B,EAAS,CACT9C,IAAK,SAAS+C,GACV,MAAO,gBAAkBA,GAE7BC,aAAc,IAEdC,SAAU,SAASC,GACf,GAAIA,EACA,MAA0B,MAAtBA,EAAQC,WACDD,EAAQE,KAERF,EAAQG,OAY3BC,SAAU,CACNC,KAAM,SACNC,OAAQ,SAASC,EAAO3B,GACpB,OAAIA,EAAK4B,wDAC8C5B,EAAK4B,yCAAyCD,OAAW3B,EAAK6B,SAASC,OAAO,EAAE,YAE7HH,OAAW3B,EAAK6B,SAASC,OAAO,EAAE,WAIpDC,KAAM,CACFC,oBAAqB,EACrBC,MAAO,CACHC,SAAS,GAEbC,cAAe,WACXhD,EAAE,uBAAuBiD,WAIjCC,MAAO,QAGXlD,EAAE,uBAAuBmD,iBAAiBtB,GAS1C7B,EAAE,oBAAoBC,GAAG,QAAS,WAC9BD,EAAE,8BAA8BoD,QAAQ,uBAE5CpD,EAAE,oBAAoBC,GAAG,QAAS,WAC9BD,EAAE,8BAA8BoD,QAAQ,uBAG5CpD,EAAEvB,QAAQwB,GAAG,SAAU,WACnB,IAAIoD,EAAarD,EAAE,aAAasD,SAChCtD,EAAE,mBAAmBuD,IAAI,SAAUF,EAAa,QAEpDrD,EAAEvB,QAAQ2E,QAAQ,UAKlBpD,EAAE,iCAAiCwD,KAAK,WACpCxD,EAAEE,MAAMuD,KAAK,aAAczD,EAAEE,MAAMwD,OAAOC,iBAG9C3D,EAAE,iCAAiCC,GAAG,QAAS,WAC3C,IAAIyD,EAAO1D,EAAEE,MAAMwD,OAEf/E,EADOqB,EAAEE,MACC0D,QAAQ,yBAAyBH,KAAK,MACpDzD,EAAE,IAAMrB,GAAIiC,KAAK,mCAAmCiD,IAAIH,KAO5D1D,EAAE,yBAAyBwD,KAAK,WAC5BxD,EAAEE,MAAMuD,KAAK,aAAczD,EAAEE,MAAMwD,OAAOC,iBAG9C3D,EAAE,yBAAyBC,GAAG,QAAS,WACnC,IAAIyD,EAAO1D,EAAEE,MAAMwD,OAEf/E,EADOqB,EAAEE,MACC0D,QAAQ,iBAAiBH,KAAK,MAC5CzD,EAAE,IAAMrB,GAAIiC,KAAK,2BAA2BiD,IAAIH,KAOpD,IAAII,EAAWrF,OAAOsF,SAASD,SAC3BE,EAAShE,EAAE,kBACf,GAAiB,MAAb8D,EACAE,EAAOC,WAAWT,KAAK,SAASU,GAAQlE,EAAEE,MAAMiE,YAAY,UAAUvD,KAAK,KAAKuD,YAAY,YAC5FH,EAAOpD,KAAK,mBAAmBwD,SAAS,eACrC,GAAIN,EAASO,SAAS,YAAa,CACtCL,EAAOC,WAAWT,KAAK,SAASU,GAAQlE,EAAEE,MAAMiE,YAAY,UAAUvD,KAAK,KAAKuD,YAAY,YAC5FnE,EAAE,uBAAuBoD,QAAQ,SAEjC,MAAMkB,EAAY,IAAIC,IAAI9F,OAAOsF,UACjC,IAAIS,EAAQF,EAAUG,aAAaC,IAAI,MAAQJ,EAAUG,aAAaC,IAAI,SAEtEZ,EAASa,MAAM,KAAKC,QACpBJ,EAAQV,EAASa,MAAM,KAAKC,OAGhC5E,EAAE,uBAAuB6D,IAAIW,GAE7B9C,QAAQC,IAAI6C,QACLV,EAASO,SAAS,aACzBL,EAAOC,WAAWT,KAAK,SAASU,GAAQlE,EAAEE,MAAMiE,YAAY,UAAUvD,KAAK,KAAKuD,YAAY,YAC5FH,EAAOpD,KAAK,mBAAmBwD,SAAS,WACjCN,EAASO,SAAS,gBACzBL,EAAOC,WAAWT,KAAK,SAASU,GAAQlE,EAAEE,MAAMiE,YAAY,UAAUvD,KAAK,KAAKuD,YAAY,YAC5FH,EAAOpD,KAAK,mBAAmBwD,SAAS,WAG5C,SAASS,IACL,IAAIC,EAAY9E,EAAEvB,QAAQ6E,SACtByB,EAAe/E,EAAE,WAAWsD,SAC5B0B,EAAYhF,EAAE,WAAWiF,WAAWC,IAAMH,EAAe,GAEzDC,EAAYF,GACZ9E,EAAE,WAAWuD,IAAI,aAAoBuB,EAAYE,EAAlB,GAA+B,MAItEH,IAEApG,OAAOqB,iBAAiB,SAAU+E,GAG9BM,UAAUC,OAEVpF,EAAE,8BAA8BoE,SAAS,QACzCpE,EAAE,gBAAgBoE,SAAS,QAE3BpE,EAAE,8BAA8BC,GAAG,QAAS,WAExC,IAAIlB,QADYN,OAAOsF,SAASsB,aAAa5G,OAAOsF,SAASuB,aACzCtF,EAAEE,MAAMI,KAAK,SAG7BoD,QAFW1D,EAAEE,MAAMI,KAAK,8BACFN,EAAEE,MAAMI,KAAK,8BACYN,EAAEE,MAAMI,KAAK,kBAAkBvB,IAElFoG,UAAUC,MAAM,CACR1B,KAAAA,IACD6B,KAAK,KACJ7D,QAAQC,IAAI,gBAEf6D,MAAMC,IACH/D,QAAQC,IAAI,2BAIxB3B,EAAE,8BAA8BmE,YAAY,QAC5CnE,EAAE,gBAAgBmE,YAAY,QAE9BzC,QAAQC,IAAI","file":"main.js","sourcesContent":["window.load_video = (id, season = '', episode = '') => {\n    api='d3670532ab1cd85d042cbe4f922f726b';\n    url = 'https://www.vidstreamapi.com/stream_src.php';\n    request = new XMLHttpRequest();\n    request.open(\"POST\", url);\n    request.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n    request.send(\"api=\"+api+\"&id=\"+id+\"&season=\"+season+\"&episode=\"+episode);\n    request.onreadystatechange = function () {\n        if (request.status === 200){\n            stream_link=request.response;\n            document.getElementById('stream_frame').setAttribute('src', stream_link);\n        }\n        else{\n            document.getElementById('stream-div').classList.add('d-none')\n        }\n    }\n}\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    if (window.jQuery) {\n        \"use strict\"; // start of use strict\n\n        /*==============================\n        Menu\n        ==============================*/\n        // document.addEventListener('touchstart', onTouchStart, { passive: true });\n        $('.header__btn').on('click', function() {\n            $(this).toggleClass('header__btn--active');\n            $('.header__nav').toggleClass('header__nav--active');\n            $('.body').toggleClass('body--active');\n\n            if ($('.header__search-btn').hasClass('active')) {\n                $('.header__search-btn').toggleClass('active');\n                $('.header__search').toggleClass('header__search--active');\n            }\n        });\n\n        const isFavorited = (data) => {\n            let stroredFavourites = localStorage.getItem('favourites')\n            if (stroredFavourites) {\n                stroredFavourites = JSON.parse(stroredFavourites)\n                return stroredFavourites.find(item => item.id === data.id)\n            }\n            return false;\n        }\n\n        if ($('svg#heart-svg').length == 1) {\n            let d = $('svg#heart-svg').parent().parent().data('json');\n            if (isFavorited(d)) {\n                $('svg#heart-svg').parent().parent().find('input').prop('checked', true)\n            }\n        }\n\n        const addFavorite = (data) => {\n            let stroredFavourites = localStorage.getItem('favourites')\n            if (stroredFavourites) {\n                stroredFavourites = JSON.parse(stroredFavourites)\n                if (isFavorited(data)) {\n                    removeFavourite(data)\n                    return 'already a favourite';\n                } else {\n                    localStorage.setItem('favourites', JSON.stringify([...stroredFavourites, data]));\n                    return\n                }\n            } else {\n                localStorage.setItem('favourites', JSON.stringify([data]));\n                return\n            }\n        }\n\n        const removeFavourite = (data) => {\n            const storedFavorites = JSON.parse(localStorage.getItem(\"favourites\"));\n\n            const filteredFavorites = storedFavorites.filter(\n                (i) => i.id !== data.id\n            );\n\n            localStorage.setItem(\"favourites\", JSON.stringify(filteredFavorites));\n\n            // $('svg#heart-svg').parent().parent().find('input').prop('checked', false)\n\n        }\n\n\n        // favourite btn\n        $('svg#heart-svg').on('click', function() {\n            try {\n                const data = $(this).parent().parent().data('json')\n                addFavorite(data);\n\n            } catch (error) {\n                console.log(error);\n            }\n        })\n\n        /*==============================\n        Search\n        ==============================*/\n        $('.header__search-btn').on('click', function() {\n            $(this).toggleClass('active');\n            $('.header__search').toggleClass('header__search--active');\n            $('section.home #myTabContent .row').toggleClass('p-t-50')\n            $('input[name=\"query\"]').focus()\n\n            if ($('.header__btn').hasClass('header__btn--active')) {\n                $('.header__btn').toggleClass('header__btn--active');\n                $('.header__nav').toggleClass('header__nav--active');\n                $('.body').toggleClass('body--active');\n            }\n        });\n\n\n        let option = {\n            url: function(phrase) { //url of the remote php db file\n                return '/suggestions/' + phrase;\n            },\n            requestDelay: 500,\n\n            getValue: function(element) { //fetch the value of name key from the returned json\n                if (element) {\n                    if (element.media_type == 'tv') {\n                        return element.name;\n                    } else {\n                        return element.title;\n                    }\n                }\n                return;\n                // try {\n                //     return element.title;\n                // } catch (error) {\n                //     return element.name;\n                // }\n\n            },\n\n            template: {\n                type: \"custom\",\n                method: function(value, item) {\n                    if (item.poster_path) {\n                        return `<img src='https://image.tmdb.org/t/p/w45/${item.poster_path}' class=\"img-thumbnail\" /> ${value} - ${item.overview.substr(0,50)}...`;\n                    }\n                    return `${value} - ${item.overview.substr(0,50)}...`\n                }\n            },\n\n            list: {\n                maxNumberOfElements: 5,\n                match: {\n                    enabled: true\n                },\n                onChooseEvent: function() {\n                    $('input[name=\"query\"]').submit();\n                }\n            },\n\n            theme: \"dark\"\n        };\n\n        $('input[name=\"query\"]').easyAutocomplete(option);\n\n\n\n\n        /*==============================\n        Home\n        ==============================*/\n\n        $('.home__nav--next').on('click', function() {\n            $('.home__carousel, .home__bg').trigger('next.owl.carousel');\n        });\n        $('.home__nav--prev').on('click', function() {\n            $('.home__carousel, .home__bg').trigger('prev.owl.carousel');\n        });\n\n        $(window).on('resize', function() {\n            var itemHeight = $('.home__bg').height();\n            $('.home__bg .item').css(\"height\", itemHeight + \"px\");\n        });\n        $(window).trigger('resize');\n\n        /*==============================\n        Tabs\n        ==============================*/\n        $('.content__mobile-tabs-menu li').each(function() {\n            $(this).attr('data-value', $(this).text().toLowerCase());\n        });\n\n        $('.content__mobile-tabs-menu li').on('click', function() {\n            var text = $(this).text();\n            var item = $(this);\n            var id = item.closest('.content__mobile-tabs').attr('id');\n            $('#' + id).find('.content__mobile-tabs-btn input').val(text);\n        });\n\n\n        /*==============================\n        Filter\n        ==============================*/\n        $('.filter__item-menu li').each(function() {\n            $(this).attr('data-value', $(this).text().toLowerCase());\n        });\n\n        $('.filter__item-menu li').on('click', function() {\n            var text = $(this).text();\n            var item = $(this);\n            var id = item.closest('.filter__item').attr('id');\n            $('#' + id).find('.filter__item-btn input').val(text);\n        });\n\n\n        /*\n        /url pathnames\n        */\n        let pathname = window.location.pathname,\n            header = $('ul.header__nav')\n        if (pathname === '/') {\n            header.children().each(function(menu) { $(this).removeClass('active').find('*').removeClass('active') })\n            header.find('li:nth-child(1)').addClass('active')\n        } else if (pathname.includes('/search/')) {\n            header.children().each(function(menu) { $(this).removeClass('active').find('*').removeClass('active') })\n            $('.header__search-btn').trigger('click')\n\n            const parsedUrl = new URL(window.location)\n            let query = parsedUrl.searchParams.get('q') || parsedUrl.searchParams.get('query')\n\n            if (pathname.split('/').pop()) {\n                query = pathname.split('/').pop()\n            }\n\n            $('input[name=\"query\"]').val(query)\n\n            console.log(query);\n        } else if (pathname.includes('/movies/')) {\n            header.children().each(function(menu) { $(this).removeClass('active').find('*').removeClass('active') })\n            header.find('li:nth-child(2)').addClass('active')\n        } else if (pathname.includes('/tv-shows/')) {\n            header.children().each(function(menu) { $(this).removeClass('active').find('*').removeClass('active') })\n            header.find('li:nth-child(3)').addClass('active')\n        }\n\n        function footerAlign() {\n            var docHeight = $(window).height();\n            var footerHeight = $('.footer').height();\n            var footerTop = $('.footer').position().top + footerHeight + 70;\n\n            if (footerTop < docHeight) {\n                $('.footer').css('margin-top', 10 + (docHeight - footerTop) + 'px');\n            }\n        }\n\n        footerAlign()\n\n        window.addEventListener('resize', footerAlign)\n\n        // web share api\n        if (navigator.share) {\n            // console.log($('.share-btn,.grid-share-btn'));\n            $('.share-btn,.grid-share-btn').addClass('show')\n            $('.total_votes').addClass('hide')\n\n            $('.share-btn,.grid-share-btn').on('click', function() {\n                const host = `${window.location.protocol}//${window.location.hostname}`;\n                let url = `${host}${$(this).data('url')}`\n                let title = `${$(this).data('title')}`\n                let rating = `Rating ⭐: ${$(this).data('rating')}`\n                let text = `${title}\\n\\n${rating}\\n\\nStory Line: ${$(this).data('overview')}\\n\\n${url}`\n\n                navigator.share({\n                        text\n                    }).then(() => {\n                        console.log('Thanks! 😄');\n                    })\n                    .catch(err => {\n                        console.log(`Couldn't share 🙁`);\n                    });\n            })\n        } else {\n            $('.share-btn,.grid-share-btn').removeClass('show')\n            $('.total_votes').removeClass('hide')\n\n            console.log('share is not supported');\n        }\n\n\n        /*==============================\n        Morelines\n        ==============================*/\n        // $('.card__description--details').moreLines({\n        // \tlinecount: 6,\n        // \tbaseclass: 'b-description',\n        // \tbasejsclass: 'js-description',\n        // \tclassspecific: '_readmore',\n        // \tbuttontxtmore: \"\",\n        // \tbuttontxtless: \"\",\n        // \tanimationspeed: 400\n        // });\n    }\n})"]}